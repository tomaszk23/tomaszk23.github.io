<script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script>

<script>
var hue = "";
var iteration = 0; 
var querystring = window.location.search; 
var urlParams = new URLSearchParams(querystring);
var r = parseInt(urlParams.get('r'));
var g = parseInt(urlParams.get('g'));
var b = parseInt(urlParams.get('b'));
var hold = urlParams.get('hold');
var offset =  urlParams.get('offset'); 
var paramsText = "r="+r+", g="+g+", b="+b+", hold ="+hold+"ms, offset ="+offset+"ms"; 
//alert(paramsText); 
$("#params").text(paramsText); 
$("#params").text(paramsText);

var change = 1; 
if (offset == 0)
{
	hue = 'rgb('+r+','+g+','+b+')';
	changeHue(hue, hue, hold, iteration);
}
else while (change ==1 && offset > 0)
	{
	change = 0;
	hue = 'rgb('+r+','+g+','+b+')';
	changeHue(hue, hue, hold, iteration);
	if (r > 0 & r > offset) 
	{
		r = r-offset;
		change = 1;
	}
	else if (r>0)
	{
		r = 0;
		change=1; 
	}			

	if (b > 0 & b > offset) 
	{
		b = b-offset;
		change = 1;
	}
	else if (b>0)
	{
		b = 0;
		change=1; 
	}	

	if (g > 0 & g > offset) 
	{
		g = g-offset;
		change = 1;
	}
	else if (g>0)
	{
		g = 0;
		change=1; 
	}	
		
	iteration++;
	}
      
function changeHue(hue2, bgcolor, delayTime, iter)
{
  setTimeout(function() {$("body").css('background-color',bgcolor);$("#counter").text(hue2)}, iter*delayTime);  
}
</script>

<style> 
#info {
color : orange; 
}
</style>

<Div id = "info">
Params: <span id = "params"></span> value: <span id = "counter"></span>
</Div>